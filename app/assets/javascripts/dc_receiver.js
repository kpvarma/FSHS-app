function getHsWindow(){var a=null;try{a=window.parent.parent,"hs"in a||(a=null)}catch(i){}return a}
function parseUrl(a){var i=document.location.href,e=i.indexOf("?")>-1?i.split("?")[1]:"",c,i=null,b=[];if(a&&e.length&&(b=e.split(/&(?!amp;)/),b[0].match(/^action=(\w)+$/i))){var l=b[0].replace(/^action=/i,""),d=b[1].replace(/^p1=/i,""),g=b[2].replace(/^p2=/i,""),e=b[3]&&b[3].replace(/^key=/i,"")||null,f=b[4]&&b[4].replace(/^pid=/i,"")||null;d&&d.length&&(d=decodeURIComponent(d.replace(/\+/g," ")));g&&g.length&&(g=decodeURIComponent(g.replace(/\+/g," ")));switch(l.toLowerCase()){case "init":c=a.jsapi.initApp;
b=[e,f,d,g];break;case "callingback":c=a.jsapi.callingBack;b=[e,f];break;case "compose":var j,h;if(g)try{var k=g.split("|");j=k[0]==="true"||k[0]==="1";h=k[1];h=h==="true"||h==="1"?true:parseInt(h)}catch(m){}c=a.jsapi.newActionTweet;b=[d,{shortenLinks:j,scheduleTimestamp:h}];break;case "userinfo":c=a.stream.network.showUserInfoPopup;b=[d];break;case "quicksearch":c=a.quickSearch;b=[d];break;case "trends":c=a.jsapi.showTrends;break;case "statusmsg":d.length>140&&(d=d.substring(0,140));b="info";g.match(/^(success|info|warning|error)$/i)&&
(b=g.toLowerCase());c=a.hs.statusObj.update;i=a.hs.statusObj;b=[d,b,true];break;case "statusmsgclear":c=a.hs.statusObj.reset;i=a.hs.statusObj;break;case "showfollowdialog":c=a.toggleFollow;b=[g==="true"||g==="1"?1:0,d];break;case "gettwitteraccounts":c=a.jsapi.getTwitterAccounts;b=[e,f];break;case "customuserinfo":c=a.jsapi.customUserInfo;b=[d];break;case "showimagepreview":c=a.jsapi.showImagePreview;b=[d,g];break;case "startapptokenauth":c=a.jsapi.startAppTokenAuth;b=[e,f];break;case "editappauth":c=
a.jsapi.editAppAuth;b=[e,f];break;case "reloadapp":c=a.jsapi.reloadApp;b=[e,f];break;case "updateplacementsubtitle":c=a.jsapi.updatePlacementSubtitle;b=[d,e,f];break;case "showcustompopup":c=a.jsapi.showCustomPopup;b=[d,e,f];break;case "closecustompopup":c=a.jsapi.closeCustomPopup;b=[e,f];break;case "assign":c=a.jsapi.assign;b=[d,e,f];break;case "resolve":c=a.jsapi.resolve;b=[d];break;case "userbound":if(d&&d.length){a.jsapi.apps[e][f].tabId=a.hs.currentTabId;a.jsapi.apps[e][f].userbound||(a.jsapi.apps[e][f].userbound=
{});j=d.split("|");for(h=0;h<j.length;h++)a.jsapi.apps[e][f].userbound[j[h]]=true,"sendcomposedmsgtoapp"==j[h]&&a.appdirectory.addPluginToProfileSelector(f)}}typeof c!="undefined"&&c.apply(i,b);window.location.hash=storedHash=""}}function go(){try{parseUrl(getHsWindow())}catch(a){}}var storedHash=window.location.hash;"onhashchange"in window?window.onhashchange=function(){go()}:window.setInterval(function(){if(window.location.hash!=storedHash)storedHash=window.location.hash,go()},100);go();
